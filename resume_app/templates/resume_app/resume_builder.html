<!DOCTYPE html>
<html>
<head>
    <title>Resume Builder</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Make textarea text start at the top-left */
        textarea.form-control {
            padding-top: 0.5rem;   /* Adjust top padding */
            padding-bottom: 0.5rem;
            line-height: 1.5;      /* Adjust line spacing */
            resize: vertical;      /* Optional: allow vertical resizing only */
        }

        /* Optional: Add some spacing between labels and textareas */
        h5 {
            margin-top: 1.5rem;
        }
    </style>
</head>
<body class="bg-light">
    {% include "resume_app/navbar.html" %}

<div class="container mt-5 mb-5">
    <div class="card shadow p-4">
        <h2 class="text-center mb-4">Build Resume</h2>

        <form method="POST">
            {% csrf_token %}

            <!-- Role Selection -->
            <h5>Target Job Role</h5>
            <select name="role" class="form-select mb-3">
                <option value="backend" {% if selected_role == "backend" %}selected{% endif %}>Backend Developer</option>
                <option value="data_analyst" {% if selected_role == "data_analyst" %}selected{% endif %}>Data Analyst</option>
                <option value="ai_engineer" {% if selected_role == "ai_engineer" %}selected{% endif %}>AI Engineer</option>
            </select>

            <!-- Personal Info -->
            <h5>Personal Information</h5>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label>Full Name</label>
                    <input type="text" name="name" class="form-control" required
                           placeholder="e.g. John Doe"
                           value="{{ resume.full_name|default_if_none:'' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label>Email</label>
                    <input type="email" name="email" class="form-control" required
                           placeholder="e.g. john.doe@example.com"
                           value="{{ resume.email|default_if_none:'' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label>Phone</label>
                    <input type="text" name="phone" class="form-control"
                           placeholder="e.g. +1234567890"
                           value="{{ resume.phone|default_if_none:'' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label>Links (LinkedIn / GitHub)</label>
                    <input type="text" name="profile" class="form-control"
                           placeholder="e.g. linkedin.com/in/johndoe"
                           value="{{ resume.profile|default_if_none:'' }}">
                </div>
            </div>

            <!-- Profile Summary -->
            <h5>Profile Summary</h5>
            <textarea name="profile_summary" class="form-control mb-1" rows="3"
                      placeholder="Brief professional summary highlighting your role, experience, and strengths">{{ resume.profile_summary|default_if_none:'' }}</textarea>
            <small class="text-muted">This section improves ATS score and gives recruiters a quick overview.</small>

            <!-- Skills -->
            <h5>Skills</h5>
            <textarea name="skills" class="form-control mb-1" rows="3"
                      placeholder="e.g. Python, Django, SQL">{{ resume.skills|default_if_none:'' }}</textarea>
            {% if suggestions.skills %}
                <small class="text-success">AI Suggestion: {{ suggestions.skills }}</small>
            {% endif %}

            <!-- Education -->
            <h5>Education</h5>
            <textarea name="education" class="form-control mb-1" rows="3"
                      placeholder="e.g. MSc in Computer Science, XYZ University, 2024">{{ resume.education|default_if_none:'' }}</textarea>
            {% if suggestions.education %}
                <small class="text-success">AI Suggestion: {{ suggestions.education }}</small>
            {% endif %}

            <!-- Experience -->
            <h5>Experience</h5>
            <textarea name="experience" class="form-control mb-1" rows="4"
                      placeholder="e.g. Software Developer Intern at ABC Corp">{{ resume.experience|default_if_none:'' }}</textarea>
            {% if suggestions.experience %}
                <small class="text-success">AI Suggestion: {{ suggestions.experience }}</small>
            {% endif %}

            <button type="submit" class="btn btn-success w-100 mt-3">
                {% if resume %} Update & Preview Resume {% else %} Preview Resume {% endif %}
            </button>

            <div class="text-center mt-3">
                <a href="{% url 'home' %}" class="btn btn-outline-secondary w-100">
                    ‚Üê Back to Resume Analyzer
                </a>
            </div>

        </form>
    </div>
</div>

</body>
</html>
